@startuml usecase-diagram

skinparam backgroundColor #FEFEFE
skinparam shadowing false

skinparam usecase {
    BackgroundColor #E3F2FD
    BorderColor #1565C0
}

skinparam actor {
    BackgroundColor #FFF3E0
    BorderColor #E65100
}

title Diagramme de Cas d'Utilisation - Conservatoire Virtuel

left to right direction

actor "Administrateur" as Admin
actor "Étudiant" as Student
actor "Professeur" as Teacher

rectangle "Conservatoire Virtuel" {
    
    package "Gestion des Personnes" {
        usecase "Ajouter Étudiant" as UC1
        usecase "Modifier Étudiant" as UC2
        usecase "Ajouter Professeur" as UC3
        usecase "Voir Profil" as UC4
    }
    
    package "Gestion des Services" {
        usecase "Créer Forfait" as UC5
        usecase "Acheter Leçon Individuelle" as UC6
        usecase "Louer Instrument" as UC7
        usecase "Voir Services" as UC8
    }
    
    package "Planification" {
        usecase "Planifier Leçon" as UC9
        usecase "Réserver Salle" as UC10
        usecase "Annuler Activité" as UC11
        usecase "Voir Planning" as UC12
        usecase "Compléter Leçon" as UC13
    }
    
    package "Examens" {
        usecase "Créer Examen" as UC14
        usecase "S'inscrire à Examen" as UC15
        usecase "Enregistrer Résultat" as UC16
        usecase "Voir Résultats" as UC17
    }
    
    package "Facturation" {
        usecase "Créer Facture" as UC18
        usecase "Enregistrer Paiement" as UC19
        usecase "Voir Solde" as UC20
        usecase "Générer Rapport" as UC21
    }
}

' Admin relationships
Admin --> UC1
Admin --> UC2
Admin --> UC3
Admin --> UC5
Admin --> UC9
Admin --> UC14
Admin --> UC16
Admin --> UC18
Admin --> UC19
Admin --> UC21

' Student relationships
Student --> UC4
Student --> UC6
Student --> UC7
Student --> UC8
Student --> UC10
Student --> UC11
Student --> UC15
Student --> UC17
Student --> UC20

' Teacher relationships
Teacher --> UC4
Teacher --> UC12
Teacher --> UC13

' Include relationships
UC9 ..> UC12 : <<include>>
UC11 ..> UC12 : <<include>>
UC15 ..> UC17 : <<include>>

note right of UC11
    Règle des 24h:
    Annulation < 24h = heure consommée
end note

note right of UC15
    Vérifie:
    - Inscription ouverte
    - Deadline respectée
    - Places disponibles
end note

@enduml

